<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">
        <style>
            body {
              background: #002b36;
              background-color: #002b36; }
        </style>

		<title>Web Components & The Future of JavaScript Apps</title>

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">
		<link rel="stylesheet" href="css/custom.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Web Components & The Future of JavaScript Apps</h1>
					<h3>(A FluentConf overview)</h3>
					<p>
                        <small>Created by <a href="mailto:dackerman@guidewire.com">David Ackerman (dackerman)</a></small>
					</p>
				</section>
                <section>
                    <h1>Agenda</h1>
                    <ol style="text-align:left">
                        <li class="fragment">
                            <h3>Skim FluentConf topics</h3>
                        </li>
                        <li class="fragment">
                            <h3>ECMAScript 6</h3>
                            <ul>
                                <li>What is it</li>
                                <li>Cool new Features</li>
                            </ul>
                        </li>
                        <li class="fragment">
                            <h3>Web Components</h3>
                            <ul>
                                <li>How current webapps work</li>
                                <li>What's wrong with them</li>
                                <li>How Web Components solves this problem</li>
                                <li>A couple cool demos</li>
                            </ul>
                        </li>
                    </ol>
                </section>
                <section>
                    <section>
                        <h2>FluentConf</h2>
                        <h3>Topics</h3>
                        <ul>
                            <li>New ES6 features</li>
                            <li>Web Components</li>
                            <li>Framework Topics (Angular, React, Ember, Meteor, etc)</li>
                            <li>Perf/Security topics</li>
                            <li>Focused topics: SVG, D3, Sass</li>
                            <li>Handling team dynamics, maintaining code</li>
                        </ul>
                        <aside class="notes">
                            Listed in descending order of frequency discussed
                        </aside>
                    </section>
                    <section>
                        <h3>Links to learn more</h3>
                        <ul>
                            <li>
                                <a target="_window" href="http://fluentconf.com/fluent2014">Main FluentConf site</a>
                            </li>
                            <li>
                                <a target="_window" href="http://shop.oreilly.com/product/110000139.do">FluentConf YouTube compilation</a>
                            </li>
                            <li>
                                <a target="_window" href="http://fluentconf.com/fluent2014/public/schedule/proceedings">FluentConf Slides</a>
                            </li>
                        </ul>
                    </section>
                </section>
                <section>
                    <section>
                        <h1>ECMAScript 6 (Harmony)</h1>
                    </section>
                    <section>
                        <h2>What is ECMAScript 6?</h2>
                        <ul>
                            <li>New ECMA-262 version</li>
                            <li>Defines "JavaScript"</li>
                            <li>ES6 adds many modern language features</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Cool ECMAScript 6 Features</h2>
                        <ul>
                            <li>Array Comprehension</li>
                            <li>Arrow Functions</li>
                            <li>Default Parameters</li>
                            <li>Destructuring Assignment</li>
                            <li>Iterators &amp; Generators</li>
                            <li>Modules</li>
                    </section>
                    <section>
                        <h2>Array Comprehension</h2>
                        <pre><code class="js" data-trim>
// previously
var out = [];
[0, 1, 2].forEach(function(x) {
  [0, 1, 2].forEach(function(y) {
    out.push(x + '' + y);
  });
});

// ES6
var array = [for (x of [0, 1, 2]) for (y of [0, 1, 2]) x + '' + y];
expect(array).to.be.eql([
  '00', '01', '02', '10', '11', '12', '20', '21', '22'
]);
</code></pre>
                    </section>
                    <section>
                        <h2>Arrow Functions</h2>
                        <pre><code class="js" data-trim>
// previously
var square = function(x) {
  return x * x;
};

// ES6
var square = (x) => {
  return x * x;
};
var square2 = x => x * x;
</code></pre>
                    </section>
                    <section>
                        <h2>Default Parameters</h2>
                        <pre><code class="js" data-trim>
// previously
var safeMult = function(x, y) {
  x = x === undefined ? 1 : x;
  y = y === undefined ? 1 : y;
  return x * y;
};

// ES6
var safeMult = function(x = 1, y = 1) {
  return x * y;
};
</code></pre>
                    </section>
                    <section>
                        <h2>Destructuring Assignment</h2>
                        <pre><code class="js" data-trim>
// previously
var aPoint = {x: 123, y: 456};
var x = aPoint.x;
var y = aPoint.y;

// ES6
var aPoint = {x: 123, y: 456};
var {x, y} = aPoint;
var {topLeft: {x: x1, y: y1}, bottomRight: {x: x2, y: y2}} = rect;
var rect = {topLeft: {x: 1, y: 2}, bottomRight: {x: 3, y: 4}};
</code></pre>
                    </section>
                    <section>
                        <h2>Iterators &amp; Generators</h2>
                        <pre><code class="js" data-trim>
// previously
...?

// ES6
function* intsBetween(min, max) {
  for (var i = min; i < max; i++) {
    yield i;
  }
}

var result = [];
for (let value of intsBetween(4, 10)) {
  result.push(value);
}
expect(result).toEqual([4, 5, 6, 7, 8, 9, 10]);
</code></pre>
                        <aside class="notes">
                            A generator function needs to be annotated as function* instead of just function.
                        </aside>
                    </section>
                    <section>
                        <h2>Modules</h2>
                        <pre><code class="js" data-trim>
// previously
var SomeLibrary = (function() {
  var internalVar = 'a';

  return {
    externalVar: internalVar + 'b';
  };
})();

expect(SomeLibrary.externalVar).toBe('ab');

// ES6
// (SomeLibrary.js)
var internalVar = 'a';
export var externalVar = internalVar + 'b';

// (Main.js)
import {externalVar} from './SomeLibrary';

expect(externalVar).toBe('ab');

</code></pre><pre><code>
&lt;!-- loads both! --&gt;
&lt;script type="module" src="Main.js"&gt;&lt;/script&gt;

</code></pre>
                    </section>
                    <section>
                        <h2>Learn more</h2>
                        <ul>
                            <li><a href="https://github.com/google/traceur-compiler/wiki/LanguageFeatures">More Features and detail</a></li>
                        </ul>
                    </section>
                    <section>
                        <h2>Cool Stuff! But...</h2>
                        <ul>
                            <li class="fragment">Can't be used in production!</li>
                            <li class="fragment">Target ES6 "Release" date: <b>December 2014</b></li>
                            <li class="fragment">Old browsers still won't have it!</li>
                        </ul>
                    </section>
                    <section>
                        <h2>What to do?</h2>
                        <ul>
                            <li class="fragment"><a href="https://github.com/google/traceur-compiler">Google Traceur Compiler</a></li>
                            <li class="fragment">Compiles ES6 code into ES5</li>
                            <li class="fragment">Online and offline compilation</li>
                            <li class="fragment">Subject to many changes, still not good for production!</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <section>
                        <h1>Web Components</h1>
                    </section>
                    <section>
                        <h2>How current webapps work</h2>
                        <p>"Separate Presentation from Business Logic"</p>
                        <ul style="list-style: none">
                        <li>
                            <span class="fragment">"Presentation" &rarr;</span>
                            <span class="fragment">CSS</span>
                        </li>
                        <li>
                            <span class="fragment">"Business Logic" &rarr;</span>
                            <span class="fragment">JavaScript</span>
                        </li>
                        <li>
                            <span class="fragment">"Structure" &rarr;</span>
                            <span class="fragment">HTML</span>
                        </li>
                        </ul>
                    </section>
                    <section>
                        <h2>What do you end up with?</h2>
                        <p>Messy HTML<pre><code class="xml" data-trim>
<div class="popup-panel">
  <div class="header">
    <h2>Header Content</h2>
    <div class="close-button">X</div>
  </div>
  <p class="content">Some content</p>
</div>
</code></pre></p>
                    <p>There's no <em>encapsulation</em> of HTML structure...</p>
                        <div class="fragment">
                            <p>Wouldn't this be nicer?<pre><code class="xml" data-trim>
<popup closeable="true" header="Header Content">
    Some content
</popup>
</code></pre>
                            </p>
                        </div>
                    </section>
                    <section>
                        <h2>How do you reuse pieces of the app?</h2>
                        <p class="fragment roll-in">
                            <q>&ldquo;What part of the CSS does this piece need?&rdquo;</q>
                        </p>
                        <p class="fragment roll-in">
                            <q>&ldquo;Where is the behavior for this chunk of HTML?&rdquo;</q>
                        </p>
                        <p class="fragment roll-in">
                            <q>&ldquo;What's the required HTML for this library again?&rdquo;</q>
                        </p>
                        <p class="fragment roll-in">
                            <q>&ldquo;Does that behavior need other parts of my app to work?&rdquo;</q>
                        </p>
                        <p class="fragment roll-in">
                            <q>&ldquo;Did I import all the correct files for this library?&rdquo;</q>
                        </p>
                    </section>
                    <section>
                        <h1>Enter Components</h1>
                    </section>
                    <section>
                        <h2>Put HTML, CSS, and JavaScript all together</h2>
                        <ul>
                            <li>Self contained, encapsulated</li>
                            <li>Easily reused</li>
                            <li>Can work in isolation</li>
                            <li>Import other components in a one-liner</li>
                            <li>What about separating presentation and business logic?
                                <ul>
                                    <li>We're still using HTML/CSS/JS for their respective roles</li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <p>So, what <em><b>are</b></em></p>
                        <h2>Web Components?</h2>
                        <ul>
                            <li>
                                <a target="_window" href="http://www.html5rocks.com/en/tutorials/webcomponents/shadowdom/#toc-separation">Templates</a>
                            </li>
                            <li>
                                <a target="_window" href="http://www.html5rocks.com/en/tutorials/webcomponents/shadowdom/">Shadow DOM</a>
                            </li>
                            <li>
                                <a target="_window" href="http://www.html5rocks.com/en/tutorials/webcomponents/imports/">HTML Imports</a>
                            </li>
                            <li>
                                <a target="_window" href="http://www.html5rocks.com/en/tutorials/webcomponents/customelements">Custom Elements</a>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <h2>Templates</h2>
                        <ul>
                            <li>Specify blocks of HTML to be used as a template</li>
                            <li>Content can't be seen by <code>querySelector</code></li>
                            <li>Doesn't execute any scripts inside the HTML</li>
                        </ul>
                        <p><pre><code class="xml">
<template id="user-card">
  <script>alert("This won't run on load!");</script>
  <div>Content, but is hidden from normal DOM</div>
</template>
</code></pre></p>
                    </section>
                    <section>
                        <h2>Shadow DOM</h2>
                        <ul>
                            <li>Separate DOM from the main one</li>
                            <li>Used for all the presentation-specific HTML</li>
                            <li>Leaves regular DOM nice and clean</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Shadow DOM <small>(example)</small></h2>
                        <p>Using <code>highlight.js</code> to render code in HTML<pre><code>
var fooTheBar = function(bar) {
  return 'foo' + bar;
};
</code></pre></p><p>view source, and you see this mess<pre><code class="xml">
<code class="actionscript">
<span class="keyword">var</span> fooTheBar = <span class="function">
<span class="keyword">function</span><span class="params">(bar)</span> {</span>
  <span class="keyword">return</span> <span class="string">'foo'</span> + bar;
};
</code>
</code></pre>
                    </section>
                    <section>
                        <h2>Shadow DOM <small>(example)</small></h2>
                        <p>With Shadow DOM, view source and see<pre><code class="xml">
<code type="javascript">
  var fooTheBar = function(bar) {
    return 'foo' + bar;
  };
</code>
</code></pre></p>
                        <ul>
                            <li>All the same markup is still there, just under the covers</li>
                        </ul>
                    </section>
                    <section>
                        <h2>HTML Imports</h2>
                        <ul>
                            <li>Let you fetch an HTML document like we currently do CSS or images</li>
                            <li>Can themselves have imports, which are fetched recursively</li>
                            <li>Can define styles, templates, etc</li>
                        </ul>
                        <p><pre><code>
&lt;link rel="import" href="header.html" id="header-import"&gt;
&lt;script&gt;
  var headerDoc = document.getElementById('header-import').import;
  headerDoc.querySelector('#some-id-in-the-header-file');
&lt;/script&gt;
</code></pre></p>
                    </section>
                    <section>
                        <h2>Custom Elements</h2>
                        <ul>
                            <li>Gives HTML appear to have more functionality</li>
                            <li>Define new tags with custom behavior</li>
                            <li>Lifecycle events to control the element</li>
                            <li>Get events when properties change</li>
                        </ul>
                        <p><pre><code>
var XFooProto = Object.create(HTMLElement.prototype, {
    bar: {
      get: function() { return 5; }
    },
    foo: {
      value: function() {
        alert('foo() called');
      }
    }
  });

XFooProto.createdCallback = function() {
  this.innerHTML = "<b>Testing 123!</b>";   
};

var XFoo = document.registerElement('x-foo', {
  prototype: XFooProto
});

</code></pre></p>
                    </section>
<section data-background="no-repeat center url('http://www.polymer-project.org/images/logos/p-logo.svg')">
                        <h2><a href="http://www.polymer-project.org/">Polymer</a></h2>
                        <ul>
                            <li>Library putting all these technologies together</li>
                            <li>Works as a polyfill for tech until it's a standard</li>
                            <li>Library shrinks as more standards are implemented</li>
                            <li>Makes these standards easier to use</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Polymer Custom Elements</h2>
                        <ul>
                            <li>Gives HTML appear to have more functionality</li>
                            <li>Define new tags with custom behavior</li>
                            <li>Lifecycle events to control the element</li>
                            <li>Get events when properties change</li>
                        </ul>
                        <p><pre><code>
<polymer-element name="x-foo" attributes="bar">
  <template>
    <b>Testing 123!</b>
  </template>
  &lt;script&gt;
    Polymer('x-foo', {
      bar: 5,
      foo: function() {
        alert('foo() called');
      }
    });
  &lt;/script&gt;
</polymer-element>
</code></pre></p>
                    </section>
                    <section>
                        <h2>Some neat examples</h2>
                        <ul>
                            <li><a href="/examples/dismissable">Raw templates</a></li>
                            <li><a href="/examples/github">Polymer codeless JSON download into templates</a></li>
                            <li><em>Note: </em> these APIs are evolving
                                <ul>
                                    <li>Aren't standards yet</li>
                                    <li>Need to enable settings in <code>chrome://flags</code>
                                        <ul>
                                            <li><a target="_window" href="chrome://flags/#enable-experimental-web-platform-features">Enable experimental Web Platform features</a></li>
                                            <li><a target="_window" href="chrome://flags/#enable-html-imports">Enable HTML Imports</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                    <section>
                        <h2>Wrap Up</h2>
                        <ul>
                            <li>New tech is exciting!</li>
                            <li>Can't use it in serious apps yet</li>
                            <li>It's good to be prepared!</li>
                        </ul>
                        <p class="fragment">
                            <br/>
                            Now <em>you too</em> can be a <b>Web Components hipster!</b>
                        </p>
                    </section>
                    <section>
                        <h2>Questions?</h2>
                        <img src="img/hipster.jpg"/>
                    </section>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				//theme: 'night', // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				parallaxBackgroundImage: 'img/birds.jpg',
				parallaxBackgroundSize: '4608px 3072px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() {
                        hljs.initHighlightingOnLoad();
                        [].forEach.call(document.querySelectorAll('div.html'), function(theDiv) {
                            theDiv.innerHTML = hljs.highlight('xml', theDiv.innerText).value;
                        });
                    } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
